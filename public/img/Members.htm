<!DOCTYPE html>
<!-- saved from url=(0029)http://localhost:8000/members -->
<html lang="en" class="gr__localhost"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="csrf-token" content="QZ9SJVK1EbDvODXtrL11hAfqPMH2e6mhrB02Gh9V">
    <link rel="icon" href="http://localhost:8000/img/icon/icon.png">

    <title>Members</title>

    <!-- Bootstrap core CSS -->
    <link href="./Members_files/bootstrap.min.css" rel="stylesheet">
    <!-- <link href="http://localhost:8000/css/style.css" rel="stylesheet"> -->

    
    <link href="./Members_files/dataTables.bootstrap.min.css" rel="stylesheet">

    
    <script src="./Members_files/sweetalert2.min.js"></script>
    <link href="./Members_files/sweetalert2.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="./Members_files/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="./Members_files/navbar-fixed-top.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="./Members_files/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <div class="gr-top-z-index gr-top-zero" tabindex="-1"><div class="_30JeG _2_2SE" style="transform: translate(779.5px, 327px);"><div class="_2A3ER"><div class="_1y1wn _2R8DE undefined"></div><div class="_24Em3"><div style="display: initial;"><div class="_21QaI _1L80j" tabindex="-1"></div></div></div><div class="_2-7o4"></div><div class="_24Em3"><div style="display: initial;"><div class="_21QaI _1pbTT" data-action="editor" tabindex="-1"></div></div></div></div></div></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"><div class="_30JeG _2_2SE" style="transform: translate(844.5px, 342px);"><div class="_2A3ER"><div class="_1y1wn _2R8DE undefined"></div><div class="_24Em3"><div style="display: initial;"><div class="_21QaI _1L80j" tabindex="-1"></div></div></div><div class="_2-7o4"></div><div class="_24Em3"><div style="display: initial;"><div class="_21QaI _1pbTT" data-action="editor" tabindex="-1"></div></div></div></div></div></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><body data-gr-c-s-loaded="true" class="modal-open">
    <nav class="navbar navbar-inverse  navbar-fixed-top ">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://localhost:8000/home">Perpustakaan</a>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4>Members list
                <a onclick="addForm()" class="btn btn-primary pull-right" style="margin-top: -8px;">Add Member</a>
              </h4>
            </div>
            <div class="panel-body">
              <div class="table-responsive"> 
                <div id="contact-table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="row"><div class="col-sm-6"><div class="dataTables_length" id="contact-table_length"><label>Show <select name="contact-table_length" aria-controls="contact-table" class="form-control input-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-6"><div id="contact-table_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" aria-controls="contact-table"></label></div></div></div><div class="row"><div class="col-sm-12"><table id="contact-table" class="table table-striped dataTable no-footer" role="grid" aria-describedby="contact-table_info" style="width: 1108px;">
                  <thead>
                    <tr role="row"><th width="30" class="sorting_asc" tabindex="0" aria-controls="contact-table" rowspan="1" colspan="1" aria-sort="ascending" aria-label="No: activate to sort column descending" style="width: 30px;">No</th><th class="sorting" tabindex="0" aria-controls="contact-table" rowspan="1" colspan="1" aria-label="Name: activate to sort column ascending" style="width: 251px;">Name</th><th class="sorting" tabindex="0" aria-controls="contact-table" rowspan="1" colspan="1" aria-label="City: activate to sort column ascending" style="width: 78px;">City</th><th class="sorting" tabindex="0" aria-controls="contact-table" rowspan="1" colspan="1" aria-label="Addres: activate to sort column ascending" style="width: 101px;">Addres</th><th class="sorting" tabindex="0" aria-controls="contact-table" rowspan="1" colspan="1" aria-label="Phone Number: activate to sort column ascending" style="width: 185px;">Phone Number</th><th class="sorting_disabled" rowspan="1" colspan="1" aria-label="Acton" style="width: 257px;">Acton</th></tr>
                  </thead>
                  <tbody><tr role="row" class="odd"><td class="sorting_1">1</td><td>Dinar Abdul Hollik Firdaus</td><td>bandung</td><td>kopo</td><td>0897654321</td><td><a href="http://localhost:8000/members#" class="btn-info btn-xs"><i class="glyphicon glyphicon-eye-open"></i>Show</a><a onclick="editForm(1)" class="btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i>Edit</a><a onclick="deleteData(1)" class="btn-danger btn-xs"><i class="glyphicon glyphicon-trash"></i>Delete</a></td></tr></tbody>
                </table><div id="contact-table_processing" class="dataTables_processing panel panel-default" style="display: none;">Processing...</div></div></div><div class="row"><div class="col-sm-5"><div class="dataTables_info" id="contact-table_info" role="status" aria-live="polite">Showing 1 to 1 of 1 entries</div></div><div class="col-sm-7"><div class="dataTables_paginate paging_simple_numbers" id="contact-table_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="contact-table_previous"><a href="http://localhost:8000/members#" aria-controls="contact-table" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button active"><a href="http://localhost:8000/members#" aria-controls="contact-table" data-dt-idx="1" tabindex="0">1</a></li><li class="paginate_button next disabled" id="contact-table_next"><a href="http://localhost:8000/members#" aria-controls="contact-table" data-dt-idx="2" tabindex="0">Next</a></li></ul></div></div></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal in" id="modal-form" tabindex="1" role="dialog" aria-hidden="true" data-backdrop="static" style="display: block;">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <form id="form-contact" method="post" class="form-horizontal" data-toggle="validator" enctype="multipart/form-data" novalidate="true">
        <input type="hidden" name="_token" value="QZ9SJVK1EbDvODXtrL11hAfqPMH2e6mhrB02Gh9V"> <input type="hidden" name="_method" value="POST">
        <meta name="csrf-token" content="QZ9SJVK1EbDvODXtrL11hAfqPMH2e6mhrB02Gh9V">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"> Ã— </span>
          </button>
          <h3 class="modal-title">Add Member</h3>
        </div>
        <div class="modal-body">
          <input type="hidden" id="id" name="id">
          <div class="form-group">
            <label for="name" class="col-md-3 control-label">No_Member</label>
            <div class="col-md-6">
              <input type="text" id="no_member" name="no_member" class="form-control" autofocus="" required="">
              <span class="help-block with-errors"></span>
            </div>
          </div>
          <div class="form-group">
            <label for="name" class="col-md-3 control-label">Name</label>
            <div class="col-md-6">
              <input type="text" id="name" name="name" class="form-control" autofocus="" required="">
              <span class="help-block with-errors"></span>
            </div>
          </div>
          <div class="form-group">
            <label for="city" class="col-md-3 control-label">City</label>
            <div class="col-md-6">
              <input type="city" id="city" name="city" class="form-control" required="">
              <span class="help-block with-errors"></span>
            </div>
          </div>
          <div class="form-group">
            <label for="photo" class="col-md-3 control-label">Address</label>
            <div class="col-md-6">
              <grammarly-ghost spellcheck="false"><div data-id="578f070e-4898-27d3-b51f-018b7a9993a4" data-gramm_id="578f070e-4898-27d3-b51f-018b7a9993a4" data-gramm="gramm" data-gramm_editor="true" class="gr_ver_2" gramm="true" contenteditable="true" style="position: absolute; color: transparent; overflow: hidden; white-space: pre-wrap; border-radius: 4px; box-sizing: border-box; height: 74px; width: 419px; margin-right: 0px; margin-bottom: 0px; margin-left: 15px; padding: 6px 12px; z-index: 0; border-width: 1px; border-style: solid; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255); top: 0px; left: 0px;"><span style="display: inline-block; font: 400 14px/20px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; color: transparent; overflow: hidden; text-align: left; float: initial; clear: none; box-sizing: border-box; vertical-align: baseline; white-space: pre-wrap; width: 100%; margin: 0px; padding: 0px; border: 0px; letter-spacing: normal; text-shadow: none; height: 72px;"><gr_block p="0,11" style="display: inline;">Kopo Permai</gr_block></span><br></div></grammarly-ghost><textarea class="form-control" name="address" id="address" rows="3" data-gramm="true" data-txt_gramm_id="578f070e-4898-27d3-b51f-018b7a9993a4" data-gramm_id="578f070e-4898-27d3-b51f-018b7a9993a4" spellcheck="false" data-gramm_editor="true" style="z-index: auto; position: relative; line-height: 20px; font-size: 14px; transition: none 0s ease 0s; background: transparent !important;"></textarea><grammarly-btn><div class="_1BN1N Kzi1t MoE_1 _2DJZN" style="z-index: 2; transform: translate(403px, 43px);"><div class="_1HjH7"><div title="Protected by Grammarly" class="_3qe6h">&nbsp;</div></div></div></grammarly-btn>
              <span class="help-block with-errors"></span>
            </div>
          </div>
        </div>
        <div class="form-group">
            <label for="name" class="col-md-3 control-label">Phone Number</label>
            <div class="col-md-6">
              <input type="tel" id="phone_number" name="phone_number" class="form-control" autofocus="" required="">
              <span class="help-block with-errors"></span>
            </div>
          </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary btn-save disabled">OK</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>    </div> 
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./Members_files/jquery-1.12.4.min.js"></script>
    <script src="./Members_files/bootstrap.min.js"></script>

    
    <script src="./Members_files/jquery.dataTables.min.js"></script>
    <script src="./Members_files/dataTables.bootstrap.min.js"></script>

    
    <script src="./Members_files/validator.min.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./Members_files/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript">
      var table = $('#contact-table').DataTable({    
        processing: true,
        serverSide: true,
        ajax: "http://localhost:8000/api/member",
        columns: [
          // {data: 'id', name: 'id'},
          {data: 'no_member', name: 'no_member'},
          {data: 'name', name: 'name'},
          {data: 'city', name: 'city'},
          {data: 'address', name: 'address'},
          {data: 'phone_number', name: 'phone_number'},
          {data: 'action', name: 'action', orderable: false, searchable: false}
        ]
      });
      function addForm() {
        save_method = "add";
        $('input[name=_method]').val('POST');
        $('#modal-form').modal('show');
        $('#modal-form form')[0].reset();
        $('.modal-title').text('Add Member');
      }
      function editForm(id) {
        alert("kadie");
        save_method = 'edit';
        $('input[name=_method]').val('PUT');
        $('#modal-form form')[0].reset();
        $.ajax({
          url: "http://localhost:8000/members" + '/' + id + "/edit",
          type: "GET",
          dataType: "JSON",
          success: function(data) {
            $('#modal-form').modal('show');
            $('.modal-title').text('Edit Member');
            $('#id').val(data.id);
            $('#no_member').val(data.no_member);
            $('#name').val(data.name);
            $('#city').val(data.city);
            $('#address').val(data.address);
            $('#phone_number').val(data.phone_number);

          },
          error : function() {
            alert("tidak ada Data");
          }
        });
      }
      function deleteData(id){
        var popup = confirm("Apa kamu bener-bener ingin menghapus data ini?");
        var csrf_token = $('meta[name="csrf-token"]').attr('content');
        if (popup == true ){
          $.ajax({
            url  : "http://localhost:8000/members" + '/' + id,
            type : "POST",
            data : {'_method' : 'DELETE', '_token' : csrf_token},
            success : function($data) {
              table.ajax.reload();
            },
            error : function () {
              alert("ADA YANG SALAH");
            }
          });
        }
      }
      $(function(){
        $('#modal-form form').validator().on('submit', function(e){
          if(!e.isDefaultPrevented()){
            alert(save_method);
            // xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'));
            var id = $('#id').val();
            console.log(save_method);
            if (save_method == 'add') url = "http://localhost:8000/members";
            else url ="http://localhost:8000/members/" + id;
            $.ajax({
              url  : url,
              type : "POST",
              data : $('#modal-form form').serialize(),
              success : function($data) {
                $('#modal-form').modal('hide');
                table.ajax.reload();
                alert("data telah disampan");
              },
              error : function(){
                alert('gagal');
              }
            });
            return false;
          }          
        });  
      });
    </script>
  

                                                                                                                                                                                                                                                                                      <div class="modal-backdrop in"></div></body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span><div><div class="gr_-editor gr-iframe-first-load" style="display: none;"><div class="gr_-editor_back"></div><iframe class="gr_-ifr gr-_dialog-content" src="./Members_files/saved_resource.html"></iframe></div></div><grammarly-card><div></div></grammarly-card></html>